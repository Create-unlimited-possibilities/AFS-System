# ============================================================
# AFS System 统一环境配置示例
# 复制此文件为 .env 并根据需要修改
# ============================================================

# ======== 基础配置 ========
NODE_ENV=development

# ======== MongoDB ========
# Docker环境使用服务名，本地开发使用localhost
MONGO_URI=mongodb://mongoserver:27017/afs_db

# ======== JWT ========
# 生产环境请更换为强密码
JWT_SECRET=your-jwt-secret-key-change-in-production

# ======== 服务端口 ========
# Server内部端口
PORT=3000
# Frontend API地址 (供前端访问后端)
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_DOCS_URL=http://localhost:3003
NEXT_PUBLIC_GITHUB_URL=https://github.com/Create-unlimited-possibilities/AFS-System

# ============================================================
# LLM 后端配置
# ============================================================
# 后端选择: ollama (本地) | deepseek (云端API)
LLM_BACKEND=ollama

# Ollama Configuration (本地模型)
# Docker网络内部使用modelserver服务名
OLLAMA_BASE_URL=http://modelserver:11434
OLLAMA_MODEL=deepseek-r1:14b
# Ollama 健康检查超时时间（毫秒）- 用于大型模型加载时间较长的情况
OLLAMA_TIMEOUT=30000

# DeepSeek API Configuration (云端API)
# 获取API Key: https://platform.deepseek.com/
# 模型选择: deepseek-chat (通用对话) | deepseek-reasoner (推理增强)
DEEPSEEK_API_KEY=your-deepseek-api-key-here
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat

# LLM 通用配置
LLM_TIMEOUT=60000
LLM_MAX_RETRIES=3
LLM_TEMPERATURE=0.7

# ============================================================
# Health Check Configuration
# ============================================================
# System status health check timeout in milliseconds (default: 2000)
# Lower values = faster admin panel response, but may fail on slow systems
# Previous default was 10000ms (10 seconds)
HEALTH_CHECK_TIMEOUT_MS=2000

# ============================================================
# Embedding 配置
# ============================================================
# Backend选择: ollama (本地免费) | openai (需要API Key)
EMBEDDING_BACKEND=ollama
EMBEDDING_MODEL=bge-m3

# ============================================================
# ChromaDB (向量数据库)
# ============================================================
CHROMA_URL=http://chromaserver:8000

# ============================================================
# 其他服务 (可选)
# ============================================================
# 翻译API (Google Cloud Translate)
GOOGLE_TRANSLATE_API_KEY=your_key_here

# OpenAI API (备用)
OPENAI_API_KEY=your-openai-api-key-here

# ============================================================
# Admin Panel Configuration
# ============================================================
# Admin invite code for registration at /admin/register
# Used as backup when no dynamic codes exist
ADMIN_INVITE_CODE=your-secure-admin-invite-code-change-this

# Default admin account (created on first server startup)
# IMPORTANT: Change these in production!
ADMIN_EMAIL=admin@afs-system.com
ADMIN_PASSWORD=admin123456
