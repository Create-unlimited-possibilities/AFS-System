双重储存系统的流程

MongoDB作为主数据库

主数据库的所有内容以异步写入的方式写入本地数据库，目录为server/storage\

会保存问题库（目前存放在mongoserver\init\questions.json+导入脚本）、用户的所有资料（保存在server/storage/userdata/{userId}）每个用户1个独立文件夹。

例如用户在前端回答了问题（"role": "elder"）会异步写入(server/storage/userdata/{userId}/Aste/basic|emotional\ )每题单独保存以question_*.json（按题号循序写人,按"layer"字段写入对应文件夹。）

如果是协助进行协助，例如用户B在其账号内进行协助（输入用户A的特殊编号，身份选择了（"role": "family"），回答了basic和emotional层次的问题），那么这些回答的答案就记录在用户A的档案内。例如(server/storage/userdata/{用户A userId}/Bste/basic|emotional\ )每题单独保存以question_*.json（按题号循序写人,按"layer"字段写入对应文件夹。）

如果是协助进行协助，例如用户B在其账号内进行协助（输入用户A的特殊编号，身份选择了（"role": "friend"），回答了basic和emotional层次的问题），那么这些回答的答案就记录在用户A的档案内。例如(server/storage/userdata/{用户A userId}/Bste/basic|emotional\ )每题单独保存以question_*.json（按题号循序写人,按"layer"字段写入对应文件夹。）




