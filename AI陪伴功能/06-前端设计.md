# 前端设计

## 页面结构

```
web/app/
├── chat/                          # AI陪伴对话模块
│   ├── page.tsx                   # 对话主页面
│   ├── layout.tsx                 # 布局
│   └── components/
│       ├── ChatInterface.tsx       # 对话界面
│       ├── MessageList.tsx         # 消息列表
│       ├── MessageInput.tsx       # 输入框
│       ├── RoleCardEntry.tsx      # 角色卡入口（输入uniqueCode）
│       ├── RelationSelector.tsx    # 关系选择器
│       ├── RoleCardViewer.tsx      # 角色卡查看器
│       ├── MemoryExplorer.tsx      # 记忆探索器
│       └── ChatStats.tsx           # 对话统计
├── rolecard/                      # 角色卡管理
│   ├── page.tsx                   # 角色卡管理页面
│   └── components/
│       ├── RoleCardEditor.tsx     # 角色卡编辑器
│       ├── MemoryPreview.tsx       # 记忆预览
│       ├── GenerateButton.tsx     # 生成按钮
│       └── GuidelinesViewer.tsx   # 对话准则查看器
└── relationships/                 # 关系管理
    ├── page.tsx
    └── components/
        ├── RelationshipList.tsx
        ├── RelationshipEditor.tsx
        └── SentimentChart.tsx      # 好感度图表
```

---

## 核心组件

### ChatInterface（对话界面）
- 显示当前对话者信息和关系
- 显示好感度（陌生人）
- 消息列表展示
- 消息输入框
- 结束对话按钮

### RoleCardEntry（角色卡入口）
- 输入uniqueCode输入框
- 验证用户是否存在
- 验证角色卡是否已生成
- 自动识别关系

### RoleCardViewer（角色卡查看器）
- 显示个人画像
- 显示所有协助者的对话准则
- 支持编辑和重新生成

### SentimentChart（好感度图表）
- 显示好感度历史曲线
- 显示影响因素分布
- 支持时间范围筛选
